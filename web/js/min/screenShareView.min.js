(e=>{let n,r;const t={shareScreenError:function(e){o();const n=e.detail,r=OTHelper.screenShareErrorCodes;n.code===r.accessDenied?c("Error",n.message):n.code===r.extNotInstalled?a("error-installing"):c("Sharing screen failed.",n.message)},extInstallationResult:function(e){const t=e.detail;t.error?c("Installation failed.",t.message):function(){const e=n.querySelector("#scrShrLater"),t=n.querySelector("#scrShrReload");e.addEventListener("click",(function n(){e.removeEventListener("click",n),i()})),t.addEventListener("click",(function e(){t.removeEventListener("click",e);const n=document.location;let o=n.href;if(o.indexOf("?userName=")<0){const e=Utils.parseSearch(document.location.search).params;e.userName=r;const t=Utils.generateSearchStr(e);o=`${n.protocol}//${n.hostname}:${n.port}${n.pathname}${t}`}window.location.href=o})),a("successful-installation")}()},destroyed:o};function o(){RoomView.deleteStreamView("desktop")}function c(e,r){a("error-sharing",(function(){n.querySelector(".errorTitle").textContent=e,n.querySelector(".errorDescription").textContent=r}))}function s(e){"screenShareErrors"===e.target.id&&i()}function i(){n.removeEventListener("click",s),Modal.hide(".screen-modal").then(()=>{n.data("screenSharingType",null)})}function a(e,r){Modal.show(".screen-modal",(function(){r&&r(),n.data("screenSharingType",e)})).then(()=>{n.addEventListener("click",s)})}e.ScreenShareView={init:function(o){r=o,n=document.querySelector(".screen-modal"),n.querySelector("#screenShareErrorInstall button").addEventListener("click",()=>{Modal.hide(".screen-modal"),Utils.sendEvent("screenShareView:installExtension")}),Utils.addEventsHandlers("screenShareController:",t,e)}}})(this);
 //# sourceMappingURL= screenShareView.min.js.map