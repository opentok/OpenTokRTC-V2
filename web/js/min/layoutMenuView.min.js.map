{"version":3,"sources":["web/js/layoutMenuView.js"],"names":["exports","menu","items","this","LayoutMenuView","init","document","querySelector","querySelectorAll","addEventListener","evt","type","target","data","BubbleFactory","get","toggle","Utils","sendEvent","window","availableLayouts","detail","layouts","Array","prototype","map","call","elem","layoutType","isAvailable","disabled","removeAttribute","setAttribute"],"mappings":"AAEC,CAACA,IACA,IAAIC,EAAO,KACPC,EAAQ,KAkCXC,KAHOC,eAAiB,CACvBC,KAPW,KACXJ,EAAOK,SAASC,cAAc,2BAC9BL,EAAQD,EAAKO,iBAAiB,KAxB9BP,EAAKQ,iBAAiB,QAASC,IAC7B,MAAMC,EAAOD,EAAIE,OAAOC,KAAK,cACzBF,IACFG,cAAcC,IAAI,gBAAgBC,SAClCC,MAAMC,UAAU,wBAAyB,CACvCP,KAAAA,OAKNQ,OAAOV,iBAAiB,iCAAkCC,IACxD,MAAMU,EAAmBV,EAAIW,OAAOC,QAEpCC,MAAMC,UAAUC,IAAIC,KAAKxB,EAAOyB,IAC9B,MAAMC,EAAaD,EAAKd,KAAK,cACvBgB,IAAgBT,EAAiBQ,GACvCD,EAAKG,UAAYD,EACjBA,EAAcF,EAAKI,gBAAgB,YAAcJ,EAAKK,aAAa,WAAY,mBAtBtF","sourcesContent":["/* global BubbleFactory */\n\n!(exports => {\n  let menu = null;\n  let items = null;\n\n  const addHandlers = () => {\n    menu.addEventListener('click', evt => {\n      const type = evt.target.data('layoutType');\n      if (type) {\n        BubbleFactory.get('chooseLayout').toggle();\n        Utils.sendEvent('layoutMenuView:layout', {\n          type\n        });\n      }\n    });\n\n    window.addEventListener('layoutManager:availableLayouts', evt => {\n      const availableLayouts = evt.detail.layouts;\n\n      Array.prototype.map.call(items, elem => {\n        const layoutType = elem.data('layoutType');\n        const isAvailable = !!availableLayouts[layoutType];\n        elem.disabled = !isAvailable;\n        isAvailable ? elem.removeAttribute('disabled') : elem.setAttribute('disabled', 'disabled');\n      });\n    });\n  };\n\n  const init = () => {\n    menu = document.querySelector('[for=\"chooseLayout\"] ul');\n    items = menu.querySelectorAll('a');\n    addHandlers();\n  };\n\n  exports.LayoutMenuView = {\n    init\n  };\n})(this);\n"]}