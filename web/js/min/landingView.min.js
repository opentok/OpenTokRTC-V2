(e=>{let t,n,o,s,l,d;const r=()=>{n=document.getElementById("enter"),t=document.getElementById("user"),o=document.querySelector("form"),s=document.getElementById("room-label"),l=document.getElementById("user-label"),d=document.querySelector(".error-room"),a();const e=window.localStorage.getItem("username");e&&t&&(t.value=e,l.classList.add("visited")),0===window.location.hostname.indexOf("opentokrtc.com")&&(document.querySelector(".safari-plug").style.display="block")};var a=()=>{const e=document.querySelectorAll("form input");Array.prototype.map.call(e,e=>{e.value="",e.checked=!1,t&&(t.focus(),t.addEventListener("keyup",i),t.addEventListener("focus",m))})},i=()=>{l.classList.add("visited"),t.removeEventListener("keyup",m)},m=function(){"room"===this.id?(d.classList.remove("show"),document.getElementById("room-label").style.opacity=1,s.classList.add("visited"),0===document.getElementById("user").value.length&&l.classList.remove("visited")):(l.classList.add("visited"),0===document.getElementById("room").value.length&&s.classList.remove("visited"))};this.LandingView={init:()=>{showUnavailable?new Promise(e=>{new EJSTemplate({url:"/templates/unavailable.ejs"}).render().then(t=>{document.body.insertAdjacentHTML("afterbegin",t),e()})}).then(r):showTos?new Promise(e=>{new EJSTemplate({url:"/templates/tos.ejs"}).render().then(t=>{document.body.insertAdjacentHTML("afterbegin",t),e()})}).then(r):r()}}})();