(e=>{let t,i,s;function o(){const e=t.querySelectorAll(i),s=e.length;if(0===s)return;const o=t.scrollTop,l=t.offsetHeight,n=t.scrollLeft,f=t.offsetWidth;for(let t=0;t<s;t++){const i=e[t];if(i){let e="hidden";if(i.classList.contains("on-stage"))e="visible";else{const t=i.offsetHeight,s=i.offsetWidth,r=i.offsetTop,d=i.offsetLeft;(r>=o&&r<=o+l||r+t>=o&&r+t<=o+l)&&(d>=n&&d<=n+f||d+s>=n&&d+s<=n+f)&&(e="visible")}Utils.sendEvent("roomView:streamVisibilityChange",{id:i.data("id"),value:e})}}}function l(){s&&e.clearTimeout(s),s=e.setTimeout(o,100)}const n={itemAdded:l,itemDeleted:l,resize:l,layoutChanged:l,scroll:l};e.LayoutViewport={init:function(s,o){t=s,i=o,t.addEventListener("scroll",n.scroll),e.addEventListener("resize",n.resize),Utils.addEventsHandlers("layoutManager:",n,e)}}})(this);