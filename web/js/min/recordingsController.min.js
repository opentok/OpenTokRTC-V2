(e=>{let t=null;const n={delete(e){const t=".archive-delete-modal";return Modal.show(t,(function(){document.querySelector(t+" .username").textContent=e.username})).then(()=>new Promise(()=>{const n=document.querySelector(t);n.addEventListener("click",(function i(s){const r=s.target.classList;if(s.stopImmediatePropagation(),s.preventDefault(),r.contains("delete-archive")&&function(e){const t=e.status;e.status="deleting",Request.deleteArchive(e.id).then(()=>{Utils.sendEvent("RecordingsController:deleteArchive",{id:e.id})}).catch(()=>{e.status=t})}(e),r.contains("btn"))return n.removeEventListener("click",i),Modal.hide(t)}))}))}};var i=()=>{e.addEventListener("archive",e=>{const t=n[e.detail.action];t&&t(e.detail)})};e.RecordingsController={init:function(n,s){let r;return r=n?LazyLoader.dependencyLoad(["/js/models/archivesEventsListener.js","/js/min/recordingsView.min.js"]).then(()=>ArchivesEventsListener.init()):Promise.resolve(),r.then(n=>{t=n,t.archives=s,Utils.sendEvent("recordings-model-ready",null,e),i(),n&&RecordingsView.init(t)})},get model(){return t}}})(this);
 //# sourceMappingURL= recordingsController.min.js.map